
# Installing the Faust compiler manually

To compile and install the Faust compiler, very few dependencies are required if the embbedded version of the compiler is not needed. 

## Compiling the compiler
Here are the steps starting from a fresh ubuntu 16.04 image:

    sudo apt-get update
    sudo apt-get install -y build-essential git cmake libmicrohttpd-dev
    git clone https://github.com/grame-cncm/faust.git
    cd faust
    make -C build confighttp
    make
    sudo make newinstall

Once you have complete the installation, you can test it:

    faust -v

will give you the version of the faust compiler, while:

    faust examples/generator/noise.dsp

will compile noise.dsp into a C++ class implementing a white noise generator. This C++ code has to be embedded into an _architecture file_ (that describes how to relate the audio computation to the external world) before beeing compiled into standalone application or an audio plugin. For that you will need to install some development packages depending of your targets.

## Compiling Alsa and Jack applications
In order to compile Faust programs to Alsa or Jack applications for Linux you need to install the corresponding development packages:

    sudo apt-get install -y libasound2-dev ibjack-jackd2-dev libgtk2.0-dev

It is now possible to compile an Alsa or Jack application with the various possible options:

    faust2alsa -osc -httpd -midi foo.dsp
    faust2jack -osc -httpd -midi foo.dsp

## Compiling QT applications
Instead of using Gtk you may want to use QT. In this case the QT4 development package needs to be installed:

    sudo apt-get install -y libasound2-dev libjack-jackd2-dev libqt4-dev 

Then it is possible to compile for Alsa/QT and Jack/QT:

    faust2alqt -midi -httpd -osc foo.dsp
    faust2jaqt -midi -httpd -osc foo.dsp

## Compiling LADSPA, DSSI and LV2 plugins
Linux supports several formats of plugins including LADSPA,DSSI and LV2.

    sudo apt-get install -y ladspa-sdk
    sudo apt-get install -y dssi-dev
    sudo apt-get install -y lv2-dev libboost-dev

These plugins can now be compiled:

    faust2ladspa good.dsp
    faust2dssi good.dsp
    faust2lv2 good.dsp

## Compiling for csound

    sudo apt-get install -y libcsound64-dev

    faust2csound good.dsp

## Compiling for supercollider 
In order to compile supercollider ugens you need to install the supercollider development package. For some reason the development package requires jackd to be installed and the jackd package requires a user response! In some situation (building a Docker image) this is a problem. The solution is to configure `DEBIAN_FRONTEND=noninteractive` to have a fully silent installation:

    sudo DEBIAN_FRONTEND=noninteractive apt-get install -y supercollider-dev

    faust2supercollider foo.dsp

## Compiling for puredata
The puredata-dev package is enough to compile puredata externals. But they will lack the nice UI patch generated by Albert Graef's faust2pd. 

    sudo apt-get install -y puredata-dev

In this case:

    faust2puredata foo.dsp

will only generates the external object `foo~.pd_linux`. 

In order to benefit of `faust2pd` you need to install the programming language `pure` it depends on:

    sudo apt-get install -y software-properties-common
    sudo add-apt-repository -y "ppa:dr-graef/pure-lang.xenial"
    sudo apt-get update
    sudo apt-get install -y faust2pd faust2pd-extra

Now `faust2puredata` will detect `faust2pd` and:

    faust2puredata foo.dsp
   
will produce the external object `foo~.pd_linux` and the UI patch `foo.pd`. 

## Compiling a VST plugin for Linux
In order to compile vst plugins for Linux you need to install the VST SDK provided by Steinberg. 

    sudo apt-get install -y unzip
    wget http://www.steinberg.net/sdk_downloads/vstsdk365_12_11_2015_build_67.zip
    sudo unzip vstsdk365_12_11_2015_build_67.zip -d /usr/local/include/
    sudo mv /usr/local/include/VST3\ SDK /usr/local/include/vstsdk2.4

Once this is done:

    faust2faustvst foo.dsp

will produce `foo.so` a VST plugin for Linux.



